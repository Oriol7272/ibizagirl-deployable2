<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IbizaGirl.pics — Vídeos</title>
  <link rel="stylesheet" href="/css/site.css?v=20250822111537">
  <link rel="stylesheet" href="/css/blur.css?v=20250822111537">
  <script src="/content-data1.js"></script>
  <script src="/content-data5.js"></script>
  <script src="/content-data6.js"></script>
  <script src="/js/unified-helpers.js?v=20250822111537"></script>
</head>
<body>
  <header class="site-header"><h1>Vídeos</h1><nav><a href="/">Home</a> · <a href="/premium.html">Premium</a></nav></header>
  <main class="container"><div id="list" class="video-list"></div></main>
  <footer class="site-footer"><small>© IbizaGirl.pics</small></footer>

  <script>
  (async function(){
    function shuffle(a){ for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]} return a; }
    function sample(arr, n){ return shuffle(arr.slice()).slice(0, n); }

    function fromHelpers(count){
      try{
        if (window.U){
          const pools = (U.pools || {});
          const vids = pools.videos || [];
          if (vids.length) return sample(vids, count);
        }
      }catch(e){}
      return null;
    }

    async function fromCdn(count){
      try{
        const u = new URL('/api/cdn', location.origin);
        u.searchParams.set('prefix','uncensored-videos');
        u.searchParams.set('limit', String(count));
        u.searchParams.set('shuffle','1');
        const res = await fetch(u);
        if(!res.ok) return null;
        const j = await res.json();
        let files = j.files || j.items || [];
        files = (files||[]).map(x => String(x).replace(/^uncensored-videos\//,''));
        return files.slice(0, count);
      }catch(e){ return null; }
    }

    const list = document.getElementById('list');
    list.innerHTML = '';
    const files = fromHelpers(20) || await fromCdn(20) || [];
    for (const name of files){
      const wrap = document.createElement('div'); wrap.className='video-card';
      const v = document.createElement('video');
      v.controls = true; v.preload='none';
      v.src = '/uncensored-videos/' + name;
      wrap.appendChild(v); list.appendChild(wrap);
    }
  })();
  </script>
</body>
</html>
