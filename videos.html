<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>IbizaGirl.pics ‚Äî V√≠deos</title>

  <link rel="stylesheet" href="/css/site.css?v=20250822212312"/>
  <link rel="stylesheet" href="/css/blur.css?v=20250822212312"/>

  <!-- PayPal SDK: botones + suscripciones -->
  <script src="https://www.paypal.com/sdk/js?client-id=AfQdeilelw5m3wF08p9pcxqR3gpZ8VRUNtKY4A8WNGQAkt6is0NYr2i7BsjVz5wpeCwR7TTDPq5&currency=EUR&components=buttons,subscriptions&disable-funding=paylater&intent=capture" defer></script>

  <!-- Sistema de contenido / helpers -->
  <script src="/content-data1.js"></script>
  <script src="/content-data5.js"></script>
  <script src="/content-data6.js"></script>
  <script src="/js/unified-helpers.js?v=20250822212312" defer></script>
  <script src="/js/payments.js?v=20250822212312" defer></script>

  <style>
    .page-wrap { max-width: 1200px; margin: 0 auto; padding: 16px; }
    header.nav a { margin-right: 16px; color: #7fc3ff; text-decoration: none; }
    h1 { font-size: 22px; margin: 12px 0 18px }
    .sub-cta { display: grid; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); gap: 12px; margin: 10px 0 20px; }
    .sub-card { background: rgba(255,255,255,.04); border-radius: 14px; padding: 14px; border: 1px solid rgba(255,255,255,.08); }
    .sub-card h3 { font-size: 16px; margin: 0 0 6px }
    .sub-price { font-weight: 700; margin: 0 0 10px }
    /* Grid de v√≠deos: el HTML lo crea el helper existente */
    #videos-grid { display: grid; grid-template-columns: repeat(auto-fill,minmax(160px,1fr)); gap: 14px; }
    #videos-grid .card { background: rgba(255,255,255,.05); border-radius: 14px; overflow: hidden; }
  </style>
</head>

<body>
  <div class="page-wrap">
    <header class="nav">
      <a href="/">Home</a>
      <a href="/premium.html">Premium</a>
      <a href="/videos.html" style="font-weight:700">V√≠deos</a>
      <a href="/subscription.html">Suscripci√≥n</a>
    </header>

    <h1>V√≠deos Premium</h1>

    <!-- Mini CTA de suscripciones (los botones se pintan con payments.js) -->
    <section class="sub-cta" aria-label="Suscripciones r√°pidas">
      <div class="sub-card">
        <h3>Mensual</h3>
        <div class="sub-price">14,99&nbsp;‚Ç¨/mes</div>
        <div id="pp-videos-sub-monthly"></div>
      </div>
      <div class="sub-card">
        <h3>Anual</h3>
        <div class="sub-price">49,99&nbsp;‚Ç¨/a√±o</div>
        <div id="pp-videos-sub-annual"></div>
      </div>
    </section>

    <!-- Grid de v√≠deos -->
    <section>
      <div id="videos-grid" class="grid"></div>
    </section>
  </div>

  <script>
    // Render del grid de v√≠deos con el helper que ya tienes
    (function () {
      const grid = document.getElementById('videos-grid');
      if (!grid) return;

      // Usa tu API unificada si existe; si no, content-data5 (videosList)
      const list = (window.UnifiedContentAPI && UnifiedContentAPI.getVideos)
        ? UnifiedContentAPI.getVideos({ limit: 100, shuffle: true })
        : (window.videosList || []);

      console.log("üé¨ videos: total =", list.length);
      const frag = document.createDocumentFragment();

      list.slice(0, 100).forEach((v) => {
        const card = document.createElement('div');
        card.className = 'card';

        const a = document.createElement('a');
        a.href = v.url || ("/uncensored-videos/" + (v.file || ""));
        a.target = "_blank";
        a.rel = "noopener";

        const img = document.createElement('img');
        img.loading = "lazy";
        img.alt = v.title || "Video";
        img.src = v.thumb || "/img/placeholder-video.webp";
        img.style.width = "100%";
        img.style.display = "block";

        a.appendChild(img);
        card.appendChild(a);
        frag.appendChild(card);
      });

      grid.appendChild(frag);

      // (Opcional redundante) Forzar hidrataci√≥n de PayPal mini botones
      if (window.IBG && IBG.Payments) {
        IBG.Payments.hydrateVideosPageIfPresent();
      }
    })();
  </script>
</body>
</html>
