<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Videos â€” IbizaGirl.pics</title>
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="css/site.css?v=20250821e">
  <link rel="stylesheet" href="css/blur.css?v=20250821e">
  <script defer src="js/chatbot.js?v=20250821e"></script>
</head>
<body>
  <header>
    <nav>
      <div class="brand">ðŸŒ´ IbizaGirl.pics</div>
      <a href="index.html">Home</a>
      <a href="premium.html">Uncensored</a>
      <a href="videos.html">Videos</a>
      <a href="subscription.html">Subscribe</a>
    </nav>
  </header>
  <main>
    <section class="section"><h2>Premium Videos</h2><div id="videos-grid" class="grid"></div></section>
  </main>

  <svg width="0" height="0" style="position:absolute">
    <symbol id="icon-lock" viewBox="0 0 24 24"><path d="M12 2a5 5 0 0 0-5 5v3H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1V7a5 5 0 0 0-5-5Zm0 2a3 3 0 0 1 3 3v3H9V7a3 3 0 0 1 3-3Z"/></symbol>
  </svg>

  <script src="content-data1.js"></script>
  <script src="content-data2.js"></script>
  <script src="content-data3.js"></script>
  <script src="content-data4.js"></script>
  <script src="content-data5.js"></script>
  <script src="content-data6.js"></script>
  <script src="js/payments.js?v=20250821e"></script>

  <script>
    const U = window.UnifiedContentAPI;
    function todaySeed(){ const d=new Date(); const k=`${d.getUTCFullYear()}-${d.getUTCMonth()+1}-${d.getUTCDate()}`; let s=0; for(const ch of k) s=(s*31+ch.charCodeAt(0))>>>0; return s; }
    function prng(seed){ let a=seed>>>0; return ()=>{ a+=0x6D2B79F5; let t=Math.imul(a^(a>>>15),1|a); t^=t+Math.imul(t^(t>>>7),61|t); return ((t^(t>>>14))>>>0)/4294967296; }; }
    function shuffleTake(arr,n,seed){ const a=arr.slice(0); const rnd=prng(seed); for(let i=a.length-1;i>0;i--){const j=Math.floor(rnd()*(i+1)); [a[i],a[j]]=[a[j],a[i]]} return a.slice(0,n); }
    function srcOf(x){ return x.src||x.url||x.path||x; }
    function card(item){
      const wrap=document.createElement('div'); wrap.className='card thumb-wrap';
      const v=document.createElement('video'); v.className='thumb censored'; v.poster='img/video-poster-blur.svg'; v.muted=true; v.loop=true; v.playsInline=true;
      const s=document.createElement('source'); s.type='video/mp4'; s.src=srcOf(item); v.appendChild(s); wrap.appendChild(v);
      const meta=document.createElement('div'); meta.className='meta'; meta.textContent=item.title||'video'; wrap.appendChild(meta);
      const btn=document.createElement('button'); btn.className='unlock-btn'; btn.innerHTML=`<svg class="i"><use href="#icon-lock"></use></svg><span class="price">â‚¬0.30</span>`;
      btn.addEventListener('click',()=>window.IBG_PAY?.buyItem?.({src:s.src,amount:0.30,currency:'EUR',kind:'video'}));
      wrap.appendChild(btn);
      return wrap;
    }
    (function(){
      if(!U){ console.error('UnifiedContentAPI no disponible'); return; }
      const vids = shuffleTake(U.getPremiumVideos(), 20, todaySeed());
      const root = document.getElementById('videos-grid');
      vids.forEach(v=>root.appendChild(card(v)));
    })();
  </script>
</body>
</html>
