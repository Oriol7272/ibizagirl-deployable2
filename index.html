<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IbizaGirl.pics — Home</title>

  <link rel="stylesheet" href="/css/site.css?v=20250822163144" />
  <link rel="stylesheet" href="/css/blur.css?v=20250822163144" />

  <style>
    :root { --gap: 16px; }
    body { background:#0c0d11; color:#e9eef4; font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif; }
    .topbar{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;max-width:1100px;margin:0 auto;}
    .brand{font-weight:800;letter-spacing:.3px}
    .nav a{color:#9fc8ff;text-decoration:none;margin-left:14px}
    main.container{max-width:1100px;margin:0 auto;padding:16px}
    h2{margin:10px 0 14px 0}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:var(--gap)}
    .card{position:relative;display:block;background:#0f1117;border-radius:12px;overflow:hidden;box-shadow:0 2px 10px rgba(0,0,0,.35)}
    .card::after{content:'Cargando...';position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
                 color:#cbd5e1;font-size:12px;background:rgba(0,0,0,.22);z-index:2}
    .card.is-loaded::after{display:none}
    .card img{width:100%;height:200px;object-fit:cover;display:block;opacity:0;transition:opacity .25s}
    .card.is-loaded img{opacity:1}
    .footer{opacity:.55;margin-top:28px;font-size:.9rem}
  </style>
</head>
<body>
  <header class="topbar">
    <div class="brand">IbizaGirl.pics</div>
    <nav class="nav">
      <a href="/premium.html">Premium</a>
      <a href="/videos.html">Videos</a>
      <a href="/subscription.html">Suscripción</a>
    </nav>
  </header>

  <main class="container">
    <h2>Galería (20 aleatorias de FULL)</h2>
    <div id="grid" class="grid" aria-live="polite"></div>
    <p id="msg" style="opacity:.75;margin-top:8px;"></p>
    <div class="footer">© IbizaGirl.pics</div>
  </main>

  <!-- DATA (debe cargar antes del script que pinta) -->
  <script src="/content-data1.js" defer></script>
  <script src="/content-data2.js" defer></script>
  <script src="/content-data3.js" defer></script>
  <script src="/content-data4.js" defer></script>
  <script src="/content-data5.js" defer></script>
  <script src="/content-data6.js" defer></script>

  <!-- HOME: usa únicamente FULL público (content-data2) -->
  <script>
  (function(){
    "use strict";

    function mulberry32(a){return function(){var t=a+=0x6D2B79F5;t=Math.imul(t^t>>>15,t|1);t^=t+Math.imul(t^t>>>7,t|61);return((t^t>>>14)>>>0)/4294967296;}}
    function dailySeed(tag){
      const d=new Date();
      const k = `${tag}:${d.getUTCFullYear()}-${d.getUTCMonth()+1}-${d.getUTCDate()}`;
      let h=0; for(let i=0;i<k.length;i++){ h=Math.imul(31,h)+k.charCodeAt(i)|0; }
      return Math.abs(h)||1;
    }
    function sampleDaily(arr,n,tag){
      const rng = mulberry32(dailySeed(tag||'full-home'));
      const A = arr.slice();
      for(let i=A.length-1;i>0;i--){ const j=Math.floor(rng()*(i+1)); [A[i],A[j]]=[A[j],A[i]]; }
      return A.slice(0,n);
    }

    function getStrictFull(){
      // 1) ContentAPI.public.full
      try {
        const CAP = window.ContentAPI||{};
        if (CAP.public && Array.isArray(CAP.public.full) && CAP.public.full.length){
          return CAP.public.full.map(s=>String(s).split('/').pop());
        }
      } catch(_) {}

      // 2) PUBLIC_FULL / publicFull / etc
      for (const key of Object.getOwnPropertyNames(window)){
        try {
          const val = window[key];
          const maybe = (val && (val.publicFull||val.PUBLIC_FULL||val.public?.full||val.full));
          if (Array.isArray(maybe) && maybe.length){
            return maybe.map(s=>String(s).split('/').pop());
          }
        } catch(_){}
      }

      // 3) Fallback vacío para no mezclar con UNCENSORED
      return [];
    }

    function boot(){
      const msg = document.getElementById('msg');
      const grid = document.getElementById('grid');

      const full = getStrictFull();
      console.log('Home: FULL strict total =', full.length);

      if (!full.length){
        msg.textContent = 'No se han encontrado imágenes FULL.';
        return;
      }

      const picks = sampleDaily(full, 20, 'full-home');
      grid.innerHTML = picks.map(f => `
        <a class="card" href="/full/${f}" target="_blank" rel="noopener">
          <img loading="lazy" decoding="async"
               src="/full/${f}"
               onload="this.closest('.card').classList.add('is-loaded')"
               onerror="this.closest('a').remove()">
        </a>`).join('');
    }

    if (document.readyState !== 'loading') setTimeout(boot,0);
    else document.addEventListener('DOMContentLoaded', boot);
  })();
  </script>

  <!-- Ads / Chat – guard contra JuicyAds -->
  <script>
    window.juicy = window.juicy || {};
    window.adsbyjuicy = window.adsbyjuicy || [];
  </script>
  <script async src="https://a.magsrv.com/ad-provider.js"></script>
  <script async src="https://adserver.juicyads.com/js/jads.js"></script>
  <script async src="https://www.premiumvertising.com/LmkfhR/tW/ptabletop.min.js"></script>

  <!-- PopAds -->
  <script type="text/javascript" data-cfasync="false">
  (function(){
    var k=window,g="e494ffb82839a29122608e933394c091",
      b=[["siteId",603*110+885*526-923+4695841],["minBid",0],["popundersPerIP","0"],["delayBetween",0],["default",false],["defaultPerDay",0],["topmostLayer","auto"]],
      t=["d3d3LnByZW1pdW12ZXJ0aXNpbmcuY29tL0xta2ZoUi90Vy9wdGFibGV0b3AubWluLmpz",
         "ZDJqMDQyY2oxNDIxd2kuY2xvdWRmcm9udC5uZXQvZ21kYi5taW4uanM=",
         "d3d3Lmd5dHphYnpmbGpnY3kuY29tL1RsTUd5di9JcC9vdGFibGV0b3AubWluLmpz",
         "d3d3LmRiaHFyYWlocHltLmNvbS91bWRiLm1pbi5qcw=="],
      r=-1,e,a,x=function(){clearTimeout(a);r++;if(t[r]&&!(1781762654000<(new Date).getTime()&&1<r)){
        e=k.document.createElement("script");e.type="text/javascript";e.async=!0;
        var p=k.document.getElementsByTagName("script")[0];e.src="https://"+atob(t[r]);
        e.crossOrigin="anonymous";e.onerror=x;
        e.onload=function(){clearTimeout(a);k[g.slice(0,16)+g.slice(0,16)]||x()};
        a=setTimeout(x,5E3);p.parentNode.insertBefore(e,p)}};
    if(!k[g]){try{Object.freeze(k[g]=b)}catch(e){}x()}
  })();
  </script>

  <!-- Crisp -->
  <script>
    window.$crisp=[];window.CRISP_WEBSITE_ID="59e184b1-e679-4c93-b3ea-d60b63c1c04c";
    (function(){var d=document,s=d.createElement("script");s.src="https://client.crisp.chat/l.js";s.async=1;d.head.appendChild(s);})();
  </script>
</body>
</html>
