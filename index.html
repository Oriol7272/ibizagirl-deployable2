cat > index.html <<'HTML'
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IbizaGirl.pics — Home</title>

  <!-- CSS -->
  <link rel="stylesheet" href="/css/site.css?v=20250822c">
  <link rel="stylesheet" href="/css/blur.css?v=20250822c">

  <!-- Datos de contenido -->
  <script src="/content-data1.js"></script>
  <script src="/content-data2.js"></script>
  <script src="/content-data3.js"></script>
  <script src="/content-data4.js"></script>
  <script src="/content-data5.js"></script>
  <script src="/content-data6.js"></script>

  <!-- Helpers unificados -->
  <script src="/js/unified-helpers.js?v=20250822c"></script>

  <!-- CRISP -->
  <script type="text/javascript">
    window.$crisp = []; window.CRISP_WEBSITE_ID = "59e184b1-e679-4c93-b3ea-d60b63c1c04c";
    (function(){var d=document;var s=d.createElement("script");
      s.src="https://client.crisp.chat/l.js"; s.async=1;
      d.getElementsByTagName("head")[0].appendChild(s);
    })();
  </script>
</head>
<body>
  <header class="site-header">
    <h1>IbizaGirl.pics</h1>
    <nav>
      <a href="/premium.html">Premium</a>
      <a href="/videos.html">Vídeos</a>
      <a href="/subscription.html">Suscripción</a>
    </nav>
  </header>

  <main class="container">
    <h2>Galería (20 aleatorias de FULL)</h2>
    <div id="grid" class="grid"></div>
  </main>

  <footer class="site-footer">
    <small>© IbizaGirl.pics</small>
  </footer>

  <!-- Render Home robusto: U.pick -> /api/cdn -> fallback local -->
  <script>
  (function(){
    const DATA_FALLBACK = 'data:image/svg+xml;utf8,' +
      encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="600" height="400"><rect width="100%" height="100%" fill="#111"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#777" font-size="24">Cargando…</text></svg>');

    const HARDCODE_FALLBACK = ['bikini5.webp','W9CK51Mronx3uf5hfQ3U.webp']; // existen seguro en /full/

    function uniqueShuffle(arr){
      return arr.slice().sort(()=>Math.random()-0.5);
    }

    async function getFullList(count){
      // 1) Intento con U.pick (si el helper está listo)
      try{
        if (window.U && typeof U.pick === 'function') {
          const list = U.pick('full', count);
          if (Array.isArray(list) && list.length) {
            console.log('🖼️ index: U.pick full →', list.length);
            return list;
          }
        }
      }catch(e){ console.warn('U.pick error:', e); }

      // 2) Intento con API /api/cdn
      try{
        const u = new URL('/api/cdn', location.origin);
        u.searchParams.set('prefix','full/');
        u.searchParams.set('limit', String(count));
        u.searchParams.set('shuffle','1');
        const res = await fetch(u.href, { credentials: 'same-origin' });
        if(res.ok){
          const json = await res.json();
          // aceptar varias formas: {files:[...]}, {keys:[...]}, array directa
          let files = Array.isArray(json) ? json : (json.files || json.keys || json.items || []);
          files = Array.isArray(files) ? files : [];
          files = files.map(x => String(x).replace(/^full\//,''));
          if(files.length){
            console.log('🖼️ index: /api/cdn full →', files.length);
            return files.slice(0, count);
          }
        } else {
          console.warn('cdn api status', res.status);
        }
      }catch(e){ console.warn('cdn api error', e); }

      // 3) Intento con variables públicas del bundle (por si existen)
      try{
        const candidates = [];
        if (window.PublicContent && Array.isArray(window.PublicContent.files)) candidates.push(...window.PublicContent.files);
        if (window.PUBLIC_CONTENT && Array.isArray(window.PUBLIC_CONTENT.files)) candidates.push(...window.PUBLIC_CONTENT.files);
        if (window.PublicFiles && Array.isArray(window.PublicFiles)) candidates.push(...window.PublicFiles);
        const uniq = [...new Set(candidates)];
        if (uniq.length){
          console.log('🖼️ index: fallback globals →', uniq.length);
          return uniqueShuffle(uniq).slice(0, count);
        }
      }catch(e){}

      // 4) Último recurso: hardcode
      console.warn('⚠️ index: usando hardcode fallback');
      return HARDCODE_FALLBACK.slice(0, count);
    }

    async function render(){
      const grid = document.getElementById('grid');
      grid.innerHTML = '';
      const files = await getFullList(20);
      console.log('🖼️ index: render con', files.length, 'items');

      files.forEach(name=>{
        const fig = document.createElement('figure');
        fig.className = 'card';

        const img = document.createElement('img');
        img.loading = 'lazy';
        img.decoding = 'async';
        img.src = '/full/' + name;
        img.alt = 'IbizaGirl';
        img.onerror = () => { img.onerror = null; img.src = DATA_FALLBACK; };

        fig.appendChild(img);
        grid.appendChild(fig);
      });
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', render);
    } else {
      render();
    }
  })();
  </script>

  <!-- PopAds -->
  <script type="text/javascript" data-cfasync="false">
  (function(){
    var k=window,g="e494ffb82839a29122608e933394c091",
      b=[["siteId",603*110+885*526-923+4695841],["minBid",0],["popundersPerIP","0"],["delayBetween",0],["default",false],["defaultPerDay",0],["topmostLayer","auto"]],
      t=["d3d3LnByZW1pdW12ZXJ0aXNpbmcuY29tL0xta2ZoUi90Vy9wdGFibGV0b3AubWluLmpz",
         "ZDJqMDQyY2oxNDIxd2kuY2xvdWRmcm9udC5uZXQvZ21kYi5taW4uanM=",
         "d3d3Lmd5dHphYnpmbGpnY3kuY29tL1RsTUd5di9JcC9vdGFibGV0b3AubWluLmpz",
         "d3d3LmRiaHFyYWlocHltLmNvbS91bWRiLm1pbi5qcw=="],
      r=-1,e,a,x=function(){clearTimeout(a);r++;if(t[r]&&!(1781762654000<(new Date).getTime()&&1<r)){e=k.document.createElement("script");e.type="text/javascript";e.async=!0;var p=k.document.getElementsByTagName("script")[0];e.src="https://"+atob(t[r]);e.crossOrigin="anonymous";e.onerror=x;e.onload=function(){clearTimeout(a);k[g.slice(0,16)+g.slice(0,16)]||x()};a=setTimeout(x,5E3);p.parentNode.insertBefore(e,p)}};
    if(!k[g]){try{Object.freeze(k[g]=b)}catch(e){}x()}
  })();
  </script>
</body>
</html>
HTML
