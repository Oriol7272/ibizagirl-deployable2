#!/usr/bin/env bash
set -euo pipefail
ROOT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"
OUT="${ROOT_DIR}/js/env.js"
printf 'window.__ENV={\n' > "${OUT}"
printf '  PAYPAL_CLIENT_ID:"%s",\n' "${PAYPAL_CLIENT_ID:-}" >> "${OUT}"
printf '  PAYPAL_SECRET:"%s",\n' "${PAYPAL_SECRET:-}" >> "${OUT}"
printf '  PAYPAL_WEBHOOK_ID:"%s",\n' "${PAYPAL_WEBHOOK_ID:-}" >> "${OUT}"
printf '  PAYPAL_PLAN_MONTHLY_1499:"%s",\n' "${PAYPAL_PLAN_MONTHLY_1499:-}" >> "${OUT}"
printf '  PAYPAL_PLAN_ANNUAL_4999:"%s",\n' "${PAYPAL_PLAN_ANNUAL_4999:-}" >> "${OUT}"
printf '  CRISP_WEBSITE_ID:"%s",\n' "${CRISP_WEBSITE_ID:-}" >> "${OUT}"
printf '  JUICYADS_ZONE:"%s",\n' "${JUICYADS_ZONE:-}" >> "${OUT}"
printf '  EXOCLICK_ZONE:"%s",\n' "${EXOCLICK_ZONE:-}" >> "${OUT}"
printf '  EROADVERTISING_ZONE:"%s",\n' "${EROADVERTISING_ZONE:-}" >> "${OUT}"
printf '  POPADS_SITE_ID:"%s",\n' "${POPADS_SITE_ID:-}" >> "${OUT}"
printf '  JUICYADS_SNIPPET_B64:"%s",\n' "${JUICYADS_SNIPPET_B64:-}" >> "${OUT}"
printf '  EXOCLICK_SNIPPET_B64:"%s",\n' "${EXOCLICK_SNIPPET_B64:-}" >> "${OUT}"
printf '  EROADVERTISING_SNIPPET_B64:"%s",\n' "${EROADVERTISING_SNIPPET_B64:-}" >> "${OUT}"
printf '  IBG_ASSETS_BASE_URL:"%s",\n' "${IBG_ASSETS_BASE_URL:-}" >> "${OUT}"
printf '  ADS_ENABLED:"%s"\n' "${ADS_ENABLED:-true}" >> "${OUT}"
printf '};\n' >> "${OUT}"
echo "âœ… Generated js/env.js"
