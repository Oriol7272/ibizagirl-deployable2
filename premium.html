<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>IbizaGirl.pics — Premium</title>
  <link rel="stylesheet" href="/css/site.css"/>
</head>
<body>
  <header class="topbar">
    <nav>
      <a href="/">Home</a>
      <a class="active" href="/premium">Premium</a>
      <a href="/videos">Vídeos</a>
      <a href="/subscription">Suscripción</a>
    </nav>
  </header>

  <main class="container">
    <h1>Imágenes premium (20 aleatorias)</h1>
    <section id="grid" class="grid"></section>
  </main>

  <script src="/js/content-data1.js"></script>
  <script src="/js/content-data2.js"></script>
  <script src="/js/content-data3.js"></script>
  <script src="/js/content-data4.js"></script>
  <script src="/js/content-data5.js"></script>
  <script src="/js/content-data6.js"></script>

  <script>
  (function () {
    const G = (window.IBG_CONFIG || window.IBG || {});
    const ASSETS = (G.assets && G.assets.baseUrl) || 'https://ibizagirl-assets.s3.eu-north-1.amazonaws.com';
    const U = window.UnifiedContentAPI || {};
    let pool = [];
    if (U.getUncensoredPool) {
      try { pool = U.getUncensoredPool(); } catch (_) {}
    }
    if (!pool || !pool.length) {
      const P1 = (window.PREMIUM_IMAGES_PART1 || []).map(fn => ({ filename: fn }));
      const P2 = (window.PREMIUM_IMAGES_PART2 || []).map(fn => ({ filename: fn }));
      pool = P1.concat(P2);
    }

    function sample(arr, n) {
      const a = arr.slice();
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a.slice(0, n);
    }

    const chosen = sample(pool, 20);
    const grid = document.getElementById('grid');
    grid.innerHTML = '';

    chosen.forEach((it, idx) => {
      const file = it.filename || it;
      const url  = file.startsWith('uncensored/') ? `${ASSETS}/${file}` : `${ASSETS}/uncensored/${file}`;
      const a = document.createElement('a');
      a.href = url; a.target = '_blank'; a.rel = 'noopener';
      a.className = 'card';
      const isNew = idx < Math.floor(chosen.length * 0.3);
      a.innerHTML = `
        <img loading="lazy" src="${url}" alt="premium"/>
        ${isNew ? '<span class="badge">NEW</span>' : ''}
      `;
      grid.appendChild(a);
    });

    console.log('Premium: pool =', pool.length, '| render =', chosen.length);
  })();
  </script>
</body>
</html>
