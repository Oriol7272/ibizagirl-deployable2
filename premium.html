<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Photos - IbizaGirl.pics</title>
    
    <!-- PayPal SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=AfQEdiielw5fm3wF08p9pcxwqR3gPz82YRNUTKY4A8WNG9AktiGsDNyr2i7BsjVzSwwpeCwR7Tt7DPq5&currency=EUR"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        
        .header {
            background: rgba(0,0,0,0.3);
            padding: 20px 0;
            text-align: center;
        }
        
        .logo { font-size: 2em; margin-bottom: 10px; }
        
        .nav {
            margin-top: 15px;
        }
        
        .nav a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
            padding: 8px 15px;
            border-radius: 20px;
            background: rgba(255,255,255,0.2);
            transition: background 0.3s;
        }
        
        .nav a:hover { background: rgba(255,255,255,0.3); }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .premium-info {
            text-align: center;
            margin: 30px 0;
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 15px;
        }
        
        .price-tag {
            font-size: 2em;
            color: #ff4757;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }
        
        .photo-card {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            transition: transform 0.3s;
            cursor: pointer;
        }
        
        .photo-card:hover { transform: scale(1.05); }
        
        .photo-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
            filter: blur(8px);
        }
        
        .photo-card.unlocked img { filter: none; }
        
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .photo-card.unlocked .overlay { display: none; }
        
        .unlock-btn {
            background: #ff4757;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .language-selector {
            position: fixed;
            top: 20px;
            right: 20px;
        }
        
        .language-selector select {
            padding: 8px;
            border-radius: 5px;
            border: none;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            color: black;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            max-width: 400px;
            width: 90%;
        }
        
        .close-btn {
            float: right;
            font-size: 24px;
            cursor: pointer;
            color: #999;
        }
        
        #paypal-button-container {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <select id="languageSelect">
            <option value="es">EspaÃ±ol</option>
            <option value="en">English</option>
            <option value="de">Deutsch</option>
            <option value="it">Italiano</option>
            <option value="fr">FranÃ§ais</option>
        </select>
    </div>

    <div class="header">
        <div class="logo">ðŸŒ´ IbizaGirl.pics ðŸŒ´</div>
        <div class="nav">
            <a href="/">Home</a>
            <a href="/gallery.html">Gallery</a>
            <a href="/premium.html">Premium</a>
            <a href="/videos.html">Videos</a>
            <a href="/subscription.html">Subscribe</a>
        </div>
    </div>

    <div class="container">
        <div class="premium-info">
            <h1 id="premiumTitle">ðŸ’Ž Premium Photos</h1>
            <div class="price-tag">â‚¬0.10</div>
            <p id="premiumDesc">Exclusive high-quality photos from Ibiza</p>
            <p id="totalPhotos">200+ premium photos available</p>
        </div>

        <div class="gallery-grid" id="premiumGrid">
            <!-- Premium photos will be loaded here -->
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h3 id="modalTitle">Unlock Premium Photo</h3>
            <p id="modalDesc">Pay â‚¬0.10 to unlock this exclusive photo</p>
            <div id="paypal-button-container"></div>
        </div>
    </div>

    <script src="content-data3.js"></script>

    <script>
        const translations = {
            es: {
                premiumTitle: "ðŸ’Ž Fotos Premium",
                premiumDesc: "Fotos exclusivas de alta calidad desde Ibiza",
                totalPhotos: "200+ fotos premium disponibles",
                unlockText: "â‚¬0.10 - Desbloquear",
                modalTitle: "Desbloquear Foto Premium",
                modalDesc: "Paga â‚¬0.10 para desbloquear esta foto exclusiva"
            },
            en: {
                premiumTitle: "ðŸ’Ž Premium Photos",
                premiumDesc: "Exclusive high-quality photos from Ibiza",
                totalPhotos: "200+ premium photos available",
                unlockText: "â‚¬0.10 - Unlock",
                modalTitle: "Unlock Premium Photo",
                modalDesc: "Pay â‚¬0.10 to unlock this exclusive photo"
            }
        };

        let currentLanguage = 'es';
        let selectedPhoto = null;
        let unlockedPhotos = JSON.parse(localStorage.getItem('unlockedPhotos') || '[]');

        function changeLanguage() {
            currentLanguage = document.getElementById('languageSelect').value;
            const t = translations[currentLanguage] || translations.en;
            
            document.getElementById('premiumTitle').textContent = t.premiumTitle;
            document.getElementById('premiumDesc').textContent = t.premiumDesc;
            document.getElementById('totalPhotos').textContent = t.totalPhotos;
            document.getElementById('modalTitle').textContent = t.modalTitle;
            document.getElementById('modalDesc').textContent = t.modalDesc;
            
            localStorage.setItem('preferred-language', currentLanguage);
            loadPremiumPhotos();
        }

        function loadPremiumPhotos() {
            try {
                if (typeof PREMIUM_IMAGES_PART1 !== 'undefined') {
                    const premiumPhotos = PREMIUM_IMAGES_PART1.slice(0, 50);
                    displayPremiumPhotos(premiumPhotos);
                    console.log(`ðŸ’Ž Loaded ${premiumPhotos.length} premium photos`);
                } else {
                    console.error('PREMIUM_IMAGES_PART1 not found');
                }
            } catch (error) {
                console.error('Error loading premium photos:', error);
            }
        }

        function displayPremiumPhotos(photos) {
            const grid = document.getElementById('premiumGrid');
            const t = translations[currentLanguage] || translations.en;
            
            grid.innerHTML = '';
            
            photos.forEach((photo, index) => {
                const photoCard = document.createElement('div');
                photoCard.className = 'photo-card';
                
                if (unlockedPhotos.includes(photo)) {
                    photoCard.classList.add('unlocked');
                }
                
                const img = document.createElement('img');
                img.src = photo;
                img.alt = `Premium Photo ${index + 1}`;
                img.loading = 'lazy';
                
                const overlay = document.createElement('div');
                overlay.className = 'overlay';
                
                const unlockBtn = document.createElement('button');
                unlockBtn.className = 'unlock-btn';
                unlockBtn.textContent = t.unlockText || 'â‚¬0.10 - Unlock';
                unlockBtn.onclick = () => openPaymentModal(photo);
                
                overlay.appendChild(document.createTextNode('ðŸ”’'));
                overlay.appendChild(unlockBtn);
                
                photoCard.appendChild(img);
                photoCard.appendChild(overlay);
                grid.appendChild(photoCard);
            });
        }

        function openPaymentModal(photo) {
            selectedPhoto = photo;
            document.getElementById('paymentModal').style.display = 'flex';
            initPayPal();
        }

        function closeModal() {
            document.getElementById('paymentModal').style.display = 'none';
        }

        function initPayPal() {
            document.getElementById('paypal-button-container').innerHTML = '';
            
            paypal.Buttons({
                createOrder: function(data, actions) {
                    return actions.order.create({
                        purchase_units: [{
                            amount: {
                                value: '0.10'
                            },
                            description: 'Premium Photo Access'
                        }]
                    });
                },
                onApprove: function(data, actions) {
                    return actions.order.capture().then(function(details) {
                        // Unlock the photo
                        unlockedPhotos.push(selectedPhoto);
                        localStorage.setItem('unlockedPhotos', JSON.stringify(unlockedPhotos));
                        
                        alert('Payment successful! Photo unlocked.');
                        closeModal();
                        loadPremiumPhotos(); // Refresh display
                    });
                },
                onError: function(err) {
                    console.error('PayPal error:', err);
                    alert('Payment failed. Please try again.');
                }
            }).render('#paypal-button-container');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            const savedLang = localStorage.getItem('preferred-language') || 'es';
            document.getElementById('languageSelect').value = savedLang;
            changeLanguage();
            
            document.getElementById('languageSelect').addEventListener('change', changeLanguage);
            
            setTimeout(loadPremiumPhotos, 1000);
            
            console.log('ðŸ’Ž Premium page loaded');
        });
    </script>
</body>
</html>