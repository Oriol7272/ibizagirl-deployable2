<!doctype html>
<html lang="es">
<head>
  <link rel="stylesheet" href="/styles.css?v=1755936676">
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>IbizaGirl.pics — Premium</title>
  <link rel="stylesheet" href="/css/site.css"/>
  <style>
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:16px}
    .card{background:#111;border-radius:14px;padding:8px;box-shadow:0 0 0 1px #222}
    .card img{width:100%;height:180px;object-fit:cover;border-radius:10px;display:block}
    .muted{opacity:.65}
    .topnav{display:flex;gap:16px;margin:12px 0}
    .topnav a{color:#86b7ff;text-decoration:none}
  </style>
  <script>
    (function robustLoader(){
      const ver = Date.now();
      function add(a,b){const s=document.createElement('script');s.defer=true;s.src=a+'?v='+ver;s.onerror=()=>{const f=document.createElement('script');f.defer=true;f.src=b+'?v='+ver;document.head.appendChild(f)};document.head.appendChild(s);}
    })();
  </script>
</head>
<body>
  <div class="topnav">
    <a href="/">Home</a>
    <a href="/premium">Premium</a>
    <a href="/videos">Vídeos</a>
    <a href="/subscription">Suscripción</a>
  </div>

  <h1>Imágenes premium (20 aleatorias)</h1>
  <div id="grid" class="grid"></div>
  <p id="status" class="muted"></p>

  <script>
    function dailyShuffle(arr){
      const seedStr = new Date().toISOString().slice(0,10);
      let s = 0; for (let i=0;i<seedStr.length;i++) s = (s*31 + seedStr.charCodeAt(i))>>>0;
      const a = arr.slice();
      for (let i=a.length-1;i>0;i--){
        s = (s*1664525 + 1013904223)>>>0;
        const j = s % (i+1);
        [a[i],a[j]]=[a[j],a[i]];
      }
      return a;
    }
    function norm(p){
      if (!p) return '';
      if (p.startsWith('/')) return p;
      return p.startsWith('uncensored/') ? '/'+p : '/uncensored/'+p;
    }
    (function boot(){
      const triesMax=60;let t=0;
      const iv=setInterval(()=>{
        const p1 = window.PREMIUM_IMAGES_PART1||[];
        const p2 = window.PREMIUM_IMAGES_PART2||[];
        const pool = [...p1,...p2];
        if (pool.length){
          clearInterval(iv); render(pool);
        } else if (++t>=triesMax){
          clearInterval(iv);
          document.getElementById('status').textContent='No hay imágenes premium disponibles.';
          console.log('Premium: pool = 0 | render = 0');
        }
      },100);
    })();

    function render(pool){
      const pick = dailyShuffle(pool).slice(0,20);
      const grid = document.getElementById('grid');
      pick.forEach(item=>{
        const src = typeof item==='string'?item:(item.path||item.src||item.url||'');
        const href = norm(src);
        const img=document.createElement('img'); img.loading='lazy'; img.alt='premium'; img.src=href;
        const a=document.createElement('a'); a.href=href; a.target='_blank';
        const card=document.createElement('div'); card.className='card';
        a.appendChild(img); card.appendChild(a); grid.appendChild(card);
      });
      document.getElementById('status').textContent=`Render ${pick.length} / pool ${pool.length}`;
    }
  </script>
  <!-- content data modules (order matters) -->
  <script src="/js/content-data1.js?v=1755936676"></script>
  <script src="/js/content-data2.js?v=1755936676"></script>
  <script src="/js/content-data3.js?v=1755936676"></script>
  <script src="/js/content-data4.js?v=1755936676"></script>
  <script src="/js/content-data5.js?v=1755936676"></script>
  <script src="/js/content-data6.js?v=1755936676"></script>
</body>
</html>
